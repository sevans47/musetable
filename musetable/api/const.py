import os

my_path = os.path.dirname(os.path.abspath(__file__))  # get path to directory with const.py
ROOT_DIR = os.path.abspath(os.path.join(my_path, os.pardir, os.pardir))  # get path to parent dir of const.py

SCOPE = 'local'
# SCOPE = 'flask'  # changing scope will adjust how file upload works

BASIC_TABLES = ['tracks', 'sections', 'melodic_phrases', 'harmonic_phrases', 'notes', 'chords']
NULLABLE_COLUMNS = [
    ('notes', 'mp_id'), ('chords', 'sec_id'), ('chords', 'hp_id'), ('sections_form', 'sec_avg_rest_dur_in_mps'),
    ('sections_form', 'sec_med_rest_dur_in_mps'), ('sections_form', 'sec_std_mp_dur'), ('sections_form', 'sec_std_hp_dur')
]

chord_kind_dict = {
    "maj_3_no_7": ["augmented", "major", "major-sixth", "Neapolitan"],
    "min_3_no_7": ["diminished", "minor", "minor-sixth"],
    "maj_3_maj_7": ["major-11th", "major-13th", "major-ninth", "major-seventh"],
    "min_3_min_7": ["half-diminished", "minor-11th", "minor-13th", "minor-ninth", "minor-seventh", "Tristan"],
    "maj_3_min_7": ["augmented-seventh", "dominant", "dominant-11th", "dominant-13th", "dominant-ninth", "French", "German", "Italian"],
    "other": ["diminished-seventh", "major-minor", "none", "other", "pedal", "power", "suspended-fourth", "suspended-second"]
}

DATA_DICT = {
    'tracks': {
        'track_id': [],
        'artist': [],
        'track_name': [],
        'key_sig_n_sharps': [],
        'time_sig': [],
        'bpm': [],
        'bpm_ql': [],
        'track_total_dur': [],
    },
    'tracks_form': {
        'track_id': [],
        'track_start_note_id': [],
        'track_end_note_id': [],
        'track_start_chord_id': [],
        'track_end_chord_id': [],
        'track_note_dur': [],
        'track_note_dur_pct': [],
        'track_rest_dur': [],
        'track_rest_dur_pct': [],
        'track_rest_dur_in_mps': [],
        'track_rest_dur_in_mps_pct': [],
        'track_rest_dur_between_mps': [],
        'track_rest_dur_between_mps_pct': [],
        'track_avg_rest_dur_in_mps': [],
        'track_avg_rest_dur_between_mps': [],
        'track_med_rest_dur_in_mps': [],
        'track_med_rest_dur_between_mps': [],
        'track_n_mps': [],
        'track_n_hps': [],
        'track_n_unique_mps': [],
        'track_n_unique_hps': [],
        'track_avg_mp_dur': [],
        'track_avg_hp_dur': [],
        'track_med_mp_dur': [],
        'track_med_hp_dur': [],
        'track_std_mp_dur': [],
        'track_std_hp_dur': [],
        'track_n_notes': [],
        'track_n_chords': [],
    },
    'tracks_melody': {
        'track_id': [],
        'track_range_interval': [],
        'track_range_midi': [],
        'track_highest_note_midi': [],
        'track_lowest_note_midi': [],
        'track_first_highest_note_id': [],
        'track_first_lowest_note_id': [],
        'pct_into_track_first_highest_note': [],
        'pct_into_track_first_lowest_note': [],
        'track_med_mp_highest_note': [],
        'track_med_mp_lowest_note': [],
        'track_n_highest_note': [],
        'track_dur_on_highest_note': [],
        'track_n_lowest_note': [],
        'track_dur_on_lowest_note': [],
        'track_dur_on_highest_note_pct': [],
        'track_n_notes_on_highest_note_pct': [],
        'track_dur_on_lowest_note_pct': [],
        'track_n_notes_on_lowest_note_pct': [],
        'track_avg_pitch': [],
        'track_most_common_pitch': [],
        'track_most_common_pitch_pct': [],
        'track_longest_note_dur': [],
        'track_most_common_note_dur': [],
        'track_most_common_note_dur_pct': [],
        'track_second_most_common_note_dur': [],
        'track_second_most_common_note_dur_pct': [],
        'track_n_nct_notes': [],
        'track_dur_nct_notes': [],
        'track_n_nct_notes_pct': [],
        'track_dur_nct_notes_pct': [],
        'track_up_pct': [],
        'track_down_pct': [],
        'track_same_pct': [],
        'track_up_step_pct': [],
        'track_up_skip_pct': [],
        'track_up_leap_pct': [],
        'track_down_step_pct': [],
        'track_down_skip_pct': [],
        'track_down_leap_pct': [],
    },
    'tracks_harmony': {
        'track_id': [],
        'track_avg_chord_dur': [],
        'track_avg_chord_center_dur': [],
        'track_avg_hp_dur': [],
        'track_med_chord_dur': [],
        'track_med_chord_center_dur': [],
        'track_med_hp_dur': [],
        'track_n_chords': [],
        'track_n_unique_chords': [],
        'track_n_chord_centers': [],
        'track_pct_3_note_chords_or_fewer': [],
        'track_pct_4_note_chords_or_more': [],
        'track_pct_maj_3_no_7': [],
        'track_pct_min_3_no_7': [],
        'track_pct_maj_3_maj_7': [],
        'track_pct_min_3_min_7': [],
        'track_pct_maj_3_min_7': [],
        'track_pct_other_quality': [],
    },
    'sections': {
        'sec_id': [],
        'track_id': [],
        'sec_name': [],
        'sec_total_dur': [],
        'sec_n_mp': [],
        'sec_start_offset': [],
        'sec_end_offset': [],
        'sec_start_m1b1_offset': [],
        'sec_end_m1b1_offset': [],
    },
    'sections_form': {
        'sec_id': [],
        'sec_start_note_id': [],
        'sec_end_note_id': [],
        'sec_start_chord_id': [],
        'sec_end_chord_id': [],
        'sec_start_mp_id': [],
        'sec_end_mp_id': [],
        'sec_note_dur': [],
        'sec_note_dur_pct': [],
        'sec_rest_dur': [],
        'sec_rest_dur_pct': [],
        'sec_rest_dur_in_mps': [],
        'sec_rest_dur_in_mps_pct': [],
        'sec_rest_dur_between_mps': [],
        'sec_rest_dur_between_mps_pct': [],
        'sec_avg_rest_dur_in_mps': [],
        'sec_avg_rest_dur_between_mps': [],
        'sec_med_rest_dur_in_mps': [],
        'sec_med_rest_dur_between_mps': [],
        'sec_n_notes': [],
        'sec_n_chords': [],
        'sec_n_mps': [],
        'sec_n_hps': [],
        'sec_n_unique_mps': [],
        'sec_n_unique_hps': [],
        'sec_avg_mp_dur': [],
        'sec_avg_hp_dur': [],
        'sec_med_mp_dur': [],
        'sec_med_hp_dur': [],
        'sec_to_track_avg_mp_dur': [],
        'sec_to_track_avg_hp_dur': [],
        'sec_to_track_med_mp_dur': [],
        'sec_to_track_med_hp_dur': [],
        'sec_to_chorus_dur': [],
        'sec_to_chorus_avg_mp_dur': [],
        'sec_to_chorus_avg_hp_dur': [],
        'sec_to_chorus_med_mp_dur': [],
        'sec_to_chorus_med_hp_dur': [],
        'sec_std_mp_dur': [],
        'sec_std_hp_dur': [],
        # 'form_mps': [],  # maybe implement later.  Levenshtein distance between subsequent mps to see if they're A, A', or B
        # 'form_mps_subphrases': [],  # same as above, but within each mp.  Do it for various lengths, see which gives least variety
        'rest_dur_before_sec_first_note': [],
        'rest_dur_after_sec_last_note': [],
    },
    'sections_melody': {
        'sec_id': [],
        'sec_range_interval': [],
        'sec_range_midi': [],
        'sec_lowest_note_midi': [],
        'sec_highest_note_midi': [],
        'sec_to_chorus_range_diff': [],
        'sec_to_chorus_highest_note_dist': [],
        'sec_to_chorus_lowest_note_dist': [],
        'sec_first_highest_note_id': [],
        'sec_first_lowest_note_id': [],
        'pct_into_sec_first_highest_note': [],
        'pct_into_sec_first_lowest_note': [],
        'sec_has_track_highest_note': [],
        'sec_has_track_lowest_note': [],
        'sec_has_track_widest_range': [],
        'sec_has_track_narrowest_range': [],
        'sec_med_mp_highest_note': [],
        'sec_med_mp_lowest_note': [],
        'sec_n_highest_note': [],
        'sec_dur_on_highest_note': [],
        'sec_n_lowest_note': [],
        'sec_dur_on_lowest_note': [],
        'sec_dur_on_highest_note_pct': [],
        'sec_n_notes_on_highest_note_pct': [],
        'sec_dur_on_lowest_note_pct': [],
        'sec_n_notes_on_lowest_note_pct': [],
        'sec_avg_pitch': [],
        'sec_most_common_pitch': [],
        'sec_most_common_pitch_pct': [],
        'sec_longest_note_dur': [],
        'sec_has_track_longest_note': [],
        'sec_most_common_note_dur': [],
        'sec_most_common_note_dur_pct': [],
        'sec_second_most_common_note_dur': [],
        'sec_second_most_common_note_dur_pct': [],
        'sec_n_nct_notes': [],
        'sec_dur_nct_notes': [],
        'sec_n_nct_notes_pct': [],
        'sec_dur_nct_notes_pct': [],
        'sec_up_pct': [],
        'sec_down_pct': [],
        'sec_same_pct': [],
        'sec_up_step_pct': [],
        'sec_up_skip_pct': [],
        'sec_up_leap_pct': [],
        'sec_down_step_pct': [],
        'sec_down_skip_pct': [],
        'sec_down_leap_pct': [],
    },
    'sections_harmony': {
        'sec_id': [],
        'sec_avg_chord_dur': [],
        'sec_avg_chord_center_dur': [],
        'sec_avg_hp_dur': [],
        'sec_med_chord_dur': [],
        'sec_med_chord_center_dur': [],
        'sec_med_hp_dur': [],
        'sec_n_chords': [],
        'sec_n_unique_chords': [],
        'sec_n_chord_centers': [],
        'sec_pct_3_note_chords_or_fewer': [],
        'sec_pct_4_note_chords_or_more': [],
        'sec_pct_maj_3_no_7': [],
        'sec_pct_min_3_no_7': [],
        'sec_pct_maj_3_maj_7': [],
        'sec_pct_min_3_min_7': [],
        'sec_pct_maj_3_min_7': [],
        'sec_pct_other_quality': [],
        'sec_to_chorus_first_chord_root_dist': [],
        'sec_to_chorus_first_chord_bass_dist': [],
    },
    'melodic_phrases': {
        'mp_id': [],
        'sec_id': [],
        'mp_num_in_sec': [],
        'mp_total_dur': [],
        'mp_start_offset': [],
        'mp_end_offset': [],
        'mp_start_m1b1_offset': [],
        'mp_end_m1b1_offset': [],
    },
    'melodic_phrases_details': {
        'mp_id': [],
        'mp_n_notes': [],
        'mp_range_interval': [],
        'mp_range_midi': [],
        'mp_highest_note_midi': [],
        'mp_lowest_note_midi': [],
        'mp_start_note_id': [],
        'mp_end_note_id': [],
        'mp_note_dur': [],
        'mp_note_dur_pct': [],
        'mp_rest_dur': [],
        'mp_rest_dur_pct': [],
        'rest_dur_before_mp': [],
        'rest_dur_after_mp': [],
        'mp_start_section_offset': [],
        'mp_start_section_m1b1_offset': [],
        'mp_to_track_avg_mp_dur': [],
        'mp_to_track_med_mp_dur': [],
        'mp_has_track_highest_note': [],
        'mp_has_track_lowest_note': [],
        'pct_into_mp_first_highest_note': [],
        'pct_into_mp_first_lowest_note': [],
        'has_sec_highest_note': [],
        'has_sec_lowest_note': [],
        'has_sec_widest_range': [],
        'has_sec_narrowest_range': [],
        'mp_med_mp_highest_note': [],
        'mp_med_mp_lowest_note': [],
        'mp_dur_on_highest_note': [],
        'mp_n_highest_note': [],
        'mp_n_notes_on_highest_note_pct': [],
        'mp_dur_on_highest_note_pct': [],
        'mp_n_notes_on_lowest_note_pct': [],
        'mp_dur_on_lowest_note_pct': [],
        'mp_avg_pitch': [],
        'mp_most_common_pitch': [],
        'mp_most_common_pitch_pct': [],
        'mp_longest_note_dur': [],
        'mp_has_track_longest_note': [],
        'mp_most_common_note_dur': [],
        'mp_most_common_note_dur_pct': [],
        'mp_second_most_common_note_dur': [],
        'mp_second_most_common_note_dur_pct': [],
        'has_sec_longest_note': [],
        'mp_n_notes': [],
        'mp_n_nct_notes': [],
        'mp_dur_nct_notes': [],
        'mp_n_nct_notes_pct': [],
        'mp_up_pct': [],
        'mp_down_pct': [],
        'mp_same_pct': [],
        'mp_up_step_pct': [],
        'mp_up_skip_pct': [],
        'mp_up_leap_pct': [],
        'mp_down_step_pct': [],
        'mp_down_skip_pct': [],
        'mp_down_leap_pct': [],
        'mp_avg_chord_dur': [],
        'mp_avg_chord_center_dur': [],
        'mp_avg_hp_dur': [],
        'mp_n_chords': [],
    },
    'harmonic_phrases': {
        'hp_id': [],
        'sec_id': [],
        'hp_num_in_sec': [],
        'hp_total_dur': [],
        'hp_start_offset': [],
        'hp_end_offset': [],
        'hp_start_m1b1_offset': [],
        'hp_end_m1b1_offset': [],
    },
    'harmonic_phrases_details': {
        'hp_id': [],
        'hp_n_chords': [],
        'hp_start_chord_id': [],
        'hp_end_chord_id': [],
        'hp_start_section_offset': [],
        'hp_start_section_m1b1_offset': [],
        'hp_to_track_avg_hp_dur': [],
        'hp_to_track_med_hp_dur': [],
        'hp_avg_chord_dur': [],
        'hp_avg_chord_center_dur': [],
        'hp_med_chord_dur': [],
        'hp_med_chord_center_dur': [],
        'hp_n_chords': [],
        'hp_n_unique_chords': [],
        'hp_n_chord_centers': [],
        'hp_pct_maj_3_no_7': [],
        'hp_pct_min_3_no_7': [],
        'hp_pct_maj_3_maj_7': [],
        'hp_pct_min_3_min_7': [],
        'hp_pct_maj_3_min_7': [],
        'hp_pct_other_quality': [],
        'hp_to_chorus_first_chord_root_dist': [],
        'hp_to_chorus_first_chord_bass_dist': [],
        'pct_non_unique_chords': [],
        'pct_chord_center_elongation': [],
        'chord_names': [],
        'chord_durs': [],
        'chord_center_durs': [],
        'chord_change_beats': [],
        'chord_center_change_beats': [],
        'root_motion': [],
        'bass_motion': [],
        'n_chord_qualities': [],
        'n_2_note_chords': [],
        'n_3_note_chords': [],
        'n_4_note_chords': [],
        'n_5plus_note_chords': [],
        'dur_2_note_chords': [],
        'dur_3_note_chords': [],
        'dur_4_note_chords': [],
        'dur_5plus_note_chords': [],
        'hp_overlaps_next_section': [],
        'all_chord_dur_are_same': [],
        'hp_to_chorus_first_chord_root_dist': [],
        'hp_to_chorus_first_chord_bass_dist': [],
        'hp_to_track_avg_chord_dur': [],
        'hp_to_track_med_chord_dur': [],
    },
    'notes': {
        'note_id': [],
        'sec_id': [],
        'mp_id': [],
        'chord_id': [],
        'note_name': [],
        'octave': [],
        'midi_num': [],
        'pitch_class': [],
        'duration': [],
        'measure': [],
        'beat': [],
        'note_start_offset': [],
        'note_end_offset': [],
        'note_start_m1b1_offset': [],
        'note_end_m1b1_offset': [],
        'nct': [],
        'dist_from_root': [],
        'mp_start_note': [],
        'mp_end_note': [],
        'sec_start_note': [],
        'sec_end_note': [],
        'prev_note_distance': [],
        'prev_note_direction': [],
        'prev_note_distance_type': [],
    },
    'notes_details': {
        'note_id': [],
        'note_start_section_offset': [],
        'note_start_section_m1b1_offset': [],
        'note_start_mp_offset': [],
        'spans_multi_chords': [],
        'is_sec_highest_note': [],
        'is_sec_lowest_note': [],
        'is_track_highest_note': [],
        'is_track_lowest_note': [],
        'is_track_longest_note': [],
        'is_section_longest_note': [],
        'is_phrase_longest_note': [],
        'up': [],
        'down': [],
        'same': [],
        'up_step': [],
        'up_skip': [],
        'up_leap': [],
        'down_step': [],
        'down_skip': [],
        'down_leap': [],
    },
    'chords': {
        'chord_id': [],
        'sec_id': [],
        'hp_id': [],
        'chord_name': [],
        'chord_kind': [],
        'chord_root_name': [],
        'chord_bass_name': [],
        'chord_root_pc': [],
        'chord_bass_pc': [],
        'pitches': [],
        'degrees': [],
        'chord_dur': [],
        'measure': [],
        'beat': [],
        'chord_start_offset': [],
        'chord_end_offset': [],
        'chord_start_m1b1_offset': [],
        'chord_end_m1b1_offset': [],
        'n_pitches': [],
        'prev_chord_elongation': [],
        'prev_chord_root_dist': [],
        'prev_chord_bass_dist': [],
        'prev_chord_rb_same_qual_diff': [],
        'prev_chord_root_same_bass_diff': [],
        'prev_chord_bass_same_root_diff': [],
    },
    'chords_details': {
        'chord_id': [],
        'chord_start_section_offset': [],
        'chord_start_section_m1b1_offset': [],
        'third_interval': [],
        'fifth_interval': [],
        'seventh_interval': [],
        'has_extension': [],
        'has_added_notes': [],
        'has_maj_3_no_7': [],
        'has_min_3_no_7': [],
        'has_maj_3_maj_7': [],
        'has_min_3_min_7': [],
        'has_maj_3_min_7': [],
        'has_other_quality': [],
        'chord_unique_to_sec': [],
        'chord_quality_unique_to_sec': [],
        'chord_root_unique_to_sec': [],
        'chord_bass_unique_to_sec': [],
        'n_sec_with_same_chord': [],
        'n_unique_secs_with_same_chord': [],
        'chord_unique_to_hp': [],
        'chord_quality_unique_to_hp': [],
        'chord_root_unique_to_hp': [],
        'chord_bass_unique_to_hp': [],
        'n_hp_with_same_chord': [],
        'chord_unique_in_track': [],
        'chord_quality_unique_in_track': [],
        'chord_root_unique_in_track': [],
        'chord_bass_unique_in_track': [],
        'chord_to_chorus_first_chord_root_dist': [],
        'chord_to_chorus_first_chord_bass_dist': [],
    },
}

DATA_TYPE_DICT = {
    'tracks': {
        'track_id': str,
        'artist': str,
        'track_name': str,
        'key_sig_n_sharps': int,
        'time_sig': str,
        'bpm': float,
        'bpm_ql': float,
        'track_total_dur': float,
    },
    'tracks_form': {
        'track_id': str,
        # 'track_total_dur': float,
        'track_start_note_id': str,
        'track_end_note_id': str,
        'track_start_chord_id': str,
        'track_end_chord_id': str,
        'track_note_dur': float,
        'track_note_dur_pct': float,
        'track_rest_dur': float,
        'track_rest_dur_pct': float,
        'track_rest_dur_in_mps': float,
        'track_rest_dur_in_mps_pct': float,
        'track_rest_dur_between_mps': float,
        'track_rest_dur_between_mps_pct': float,
        'track_avg_rest_dur_in_mps': float,
        'track_avg_rest_dur_between_mps': float,
        'track_n_mps': int,
        'track_n_hps': int,
        'track_n_unique_mps': int,
        'track_n_unique_hps': int,
        'track_avg_mp_dur': float,
        'track_avg_hp_dur': float,
        'track_std_mp_dur': float,
        'track_std_hp_dur': float,
        'track_n_notes': int,
        'track_n_chords': int,
    },
    'tracks_melody': {
        'track_id': str,
        'track_range_interval': str,
        'track_range_midi': int,
        'track_highest_note': int,
        'track_lowest_note': int,
        'track_first_highest_note_id': str,
        'track_first_lowest_note_id': str,
        'pct_into_track_first_highest_note': float,
        'pct_into_track_first_lowest_note': float,
        'track_med_mp_highest_note': int,
        'track_med_mp_lowest_note': int,
        'track_n_highest_note': int,
        'track_dur_on_highest_note': float,
        'track_n_lowest_note': int,
        'track_dur_on_lowest_note': float,
        'track_dur_on_highest_note_pct': float,
        'track_n_notes_on_highest_note_pct': float,
        'track_dur_on_lowest_note_pct': float,
        'track_n_notes_on_lowest_note_pct': float,
        'track_avg_pitch': int,
        'track_most_common_pitch': int,
        'track_longest_note_dur': float,
        'track_most_common_note_dur': float,
        'track_most_common_note_dur_pct': float,
        'track_second_most_common_note_dur': float,
        'track_second_most_common_note_dur_pct': float,
        'track_n_nct_notes': int,
        'track_dur_nct_notes': float,
        'track_n_nct_notes_pct': float,
        'track_dur_nct_notes_pct': float,
        'track_up_pct': float,
        'track_down_pct': float,
        'track_same_pct': float,
        'track_up_step_pct': float,
        'track_up_skip_pct': float,
        'track_up_leap_pct': float,
        'track_down_step_pct': float,
        'track_down_skip_pct': float,
        'track_down_leap_pct': float,
    },
    'tracks_harmony': {
        'track_id': str,
        'track_avg_chord_dur': float,
        'track_avg_chord_center_dur': float,
        'track_avg_hp_dur': float,
        'track_n_chords': int,
        'track_n_unique_chords': int,
        'track_n_chord_centers': int,
        'track_pct_3_note_chords_or_fewer': float,
        'track_pct_4_note_chords_or_more': float,
        'track_pct_maj_3_no_7': float,
        'track_pct_min_3_no_7': float,
        'track_pct_maj_3_maj_7': float,
        'track_pct_min_3_min_7': float,
        'track_pct_maj_3_min_7': float,
        'track_pct_other_quality': float,
    },
    'sections': {
        'sec_id': str,
        'track_id': str,
        'sec_name': str,
        'sec_total_dur': float,
        'sec_n_mp': int,
        'sec_start_offset': float,
        'sec_end_offset': float,
        'sec_start_m1b1_offset': float,
        'sec_end_m1b1_offset': float,
    },
    'sections_form': {
        'sec_id': [],
        'sec_start_note_id': [],
        'sec_end_note_id': [],
        'sec_start_chord_id': [],
        'sec_end_chord_id': [],
        'sec_start_mp_id': [],
        'sec_end_mp_id': [],
        'sec_note_dur': [],
        'sec_note_dur_pct': [],
        'sec_rest_dur': [],
        'sec_rest_dur_pct': [],
        'sec_rest_dur_in_mps': [],
        'sec_rest_dur_in_mps_pct': [],
        'sec_rest_dur_between_mps': [],
        'sec_rest_dur_between_mps_pct': [],
        'sec_avg_rest_dur_in_mps': [],
        'sec_avg_rest_dur_between_mps': [],
        'sec_n_notes': [],
        'sec_n_chords': [],
        'sec_n_mps': [],
        'sec_n_hps': [],
        'sec_n_unique_mps': [],
        'sec_n_unique_hps': [],
        'sec_avg_mp_dur': [],
        'sec_avg_hp_dur': [],
        'sec_to_track_avg_mp_dur': [],
        'sec_to_track_avg_hp_dur': [],
        'sec_to_chorus_dur': [],
        'sec_to_chorus_avg_mp_dur': [],
        'sec_to_chorus_avg_hp_dur': [],
        'sec_std_mp_dur': [],
        'sec_std_hp_dur': [],
        'sec_start_offset': [],
        'sec_end_offset': [],
        'sec_start_m1b1_offset': [],
        'sec_end_m1b1_offset': [],
        'form_mps': [],
        'form_mps_subphrases': [],
        'rest_dur_before_sec': [],
        'rest_dur_after_sec': [],
    },
    'sections_melody': {
        'sec_id': [],
        'sec_range_interval': [],
        'sec_range_midi': [],
        'sec_lowest_note': [],
        'sec_highest_note': [],
        'sec_to_chorus_range_diff': [],
        'sec_to_chorus_highest_note_dist': [],
        'sec_to_chorus_lowest_note_dist': [],
        'sec_first_highest_note_id': [],
        'sec_first_lowest_note_id': [],
        'pct_into_sec_first_highest_note': [],
        'pct_into_sec_first_lowest_note': [],
        'sec_has_track_highest_note': [],
        'sec_has_track_lowest_note': [],
        'sec_has_track_widest_range': [],
        'sec_has_track_narrowest_range': [],
        'sec_med_mp_highest_note': [],
        'sec_med_mp_lowest_note': [],
        'sec_n_highest_note': [],
        'sec_dur_on_highest_note': [],
        'sec_n_lowest_note': [],
        'sec_dur_on_lowest_note': [],
        'sec_dur_on_highest_note_pct': [],
        'sec_n_notes_on_highest_note_pct': [],
        'sec_dur_on_lowest_note_pct': [],
        'sec_n_notes_on_lowest_note_pct': [],
        'sec_avg_pitch': [],
        'sec_most_common_pitch': [],
        'sec_longest_note_dur': [],
        'sec_has_track_longest_note': [],
        'sec_most_common_note_dur': [],
        'sec_most_common_note_dur_pct': [],
        'sec_second_most_common_note_dur': [],
        'sec_second_most_common_note_dur_pct': [],
        'sec_n_nct_notes': [],
        'sec_dur_nct_notes': [],
        'sec_n_nct_notes_pct': [],
        'sec_dur_nct_notes_pct': [],
        'sec_up_pct': [],
        'sec_down_pct': [],
        'sec_same_pct': [],
        'sec_up_step_pct': [],
        'sec_up_skip_pct': [],
        'sec_up_leap_pct': [],
        'sec_down_step_pct': [],
        'sec_down_skip_pct': [],
        'sec_down_leap_pct': [],
    },
    'sections_harmony': {
        'sec_id': [],
        'sec_avg_chord_dur': [],
        'sec_avg_chord_center_dur': [],
        'sec_avg_hp_dur': [],
        'sec_n_chords': [],
        'sec_n_unique_chords': [],
        'sec_n_chord_centers': [],
        'sec_pct_3_note_chords_or_fewer': [],
        'sec_pct_4_note_chords_or_more': [],
        'sec_pct_maj_3_no_7': [],
        'sec_pct_min_3_no_7': [],
        'sec_pct_maj_3_maj_7': [],
        'sec_pct_min_3_min_7': [],
        'sec_pct_maj_3_min_7': [],
        'sec_pct_other_quality': [],
        'sec_to_chorus_first_chord_root_dist': [],
        'sec_to_chorus_first_chord_bass_dist': [],
    },
    'melodic_phrases': {
        'mp_id': str,
        'sec_id': str,
        'mp_num_in_sec': int,
        'mp_total_dur': float,
        'mp_start_offset': float,
        'mp_end_offset': float,
        'mp_start_m1b1_offset': float,
        'mp_end_m1b1_offset': float,
    },
    'melodic_phrases_details': {
        'mp_id': [],
        'mp_n_notes': [],
        'mp_range_interval': [],
        'mp_range_midi': [],
        'mp_highest_note': [],
        'mp_lowest_note': [],
        'mp_start_note_id': [],
        'mp_end_note_id': [],
        'mp_note_dur': [],
        'mp_note_dur_pct': [],
        'mp_rest_dur': [],
        'mp_rest_dur_pct': [],
        'rest_dur_before_mp': [],
        'rest_dur_after_mp': [],
        'mp_start_section_offset': [],
        'mp_start_section_m1b1_offset': [],
        'mp_to_track_avg_mp_dur': [],
        'mp_has_track_highest_note': [],
        'mp_has_track_lowest_note': [],
        'pct_into_mp_first_highest_note': [],
        'pct_into_mp_first_lowest_note': [],
        'has_sec_highest_note': [],
        'has_sec_lowest_note': [],
        'has_sec_widest_range': [],
        'has_sec_narrowest_range': [],
        'mp_med_mp_highest_note': [],
        'mp_med_mp_lowest_note': [],
        'mp_dur_on_highest_note': [],
        'mp_n_highest_note': [],
        'mp_n_notes_on_highest_note_pct': [],
        'mp_dur_on_highest_note_pct': [],
        'mp_n_notes_on_lowest_note_pct': [],
        'mp_dur_on_lowest_note_pct': [],
        'mp_avg_pitch': [],
        'mp_most_common_pitch': [],
        'mp_longest_note_dur': [],
        'mp_has_track_longest_note': [],
        'mp_most_common_note_dur': [],
        'mp_most_common_note_dur_pct': [],
        'mp_second_most_common_note_dur': [],
        'mp_second_most_common_note_dur_pct': [],
        'has_sec_longest_note': [],
        'mp_n_notes': [],
        'mp_n_nct_notes': [],
        'mp_dur_nct_notes': [],
        'mp_n_nct_notes_pct': [],
        'mp_up_pct': [],
        'mp_down_pct': [],
        'mp_same_pct': [],
        'mp_up_step_pct': [],
        'mp_up_skip_pct': [],
        'mp_up_leap_pct': [],
        'mp_down_step_pct': [],
        'mp_down_skip_pct': [],
        'mp_down_leap_pct': [],
        'mp_avg_chord_dur': [],
        'mp_avg_chord_center_dur': [],
        'mp_avg_hp_dur': [],
        'mp_n_chords': [],
    },
    'harmonic_phrases': {
        'hp_id': str,
        'sec_id': str,
        'hp_num_in_sec': int,
        'hp_total_dur': float,
        'hp_start_offset': float,
        'hp_end_offset': float,
        'hp_start_m1b1_offset': float,
        'hp_end_m1b1_offset': float,
    },
    'harmonic_phrases_details': {
        'hp_id': [],
        'hp_n_chords': [],
        'hp_start_chord_id': [],
        'hp_end_chord_id': [],
        'hp_start_section_offset': [],
        'hp_start_section_m1b1_offset': [],
        'hp_to_track_avg_hp_dur': [],
        'hp_avg_chord_dur': [],
        'hp_avg_chord_center_dur': [],
        'hp_n_chords': [],
        'hp_n_unique_chords': [],
        'hp_n_chord_centers': [],
        'hp_pct_maj_3_no_7': [],
        'hp_pct_min_3_no_7': [],
        'hp_pct_maj_3_maj_7': [],
        'hp_pct_min_3_min_7': [],
        'hp_pct_maj_3_min_7': [],
        'hp_pct_other_quality': [],
        'hp_to_chorus_first_chord_root_dist': [],
        'hp_to_chorus_first_chord_bass_dist': [],
        'pct_non_unique_chords': [],
        'pct_chord_center_elongation': [],
        'chord_names': [],
        'chord_durs': [],
        'chord_center_durs': [],
        'chord_change_beats': [],
        'chord_center_change_beats': [],
        'root_motion': [],
        'bass_motion': [],
        'n_chord_qualities': [],
        'n_2_note_chords': [],
        'n_3_note_chords': [],
        'n_4_note_chords': [],
        'n_5plus_note_chords': [],
        'dur_2_note_chords': [],
        'dur_3_note_chords': [],
        'dur_4_note_chords': [],
        'dur_5plus_note_chords': [],
        'hp_overlaps_next_section': [],
        'all_chord_dur_are_same': [],
        'hp_to_chorus_first_chord_root_dist': [],
        'hp_to_chorus_first_chord_bass_dist': [],
        'hp_to_track_avg_chord_dur': [],
        'hp_to_track_med_chord_dur': [],
    },
    'notes': {
        'note_id': str,
        'sec_id': str,
        'mp_id': str,
        'chord_id': str,
        'note_name': str,
        'octave': int,
        'midi_num': int,
        'pitch_class': int,
        'duration': float,
        'measure': int,
        'beat': float,
        'note_start_offset': float,
        'note_end_offset': float,
        'note_start_m1b1_offset': float,
        'note_end_m1b1_offset': float,
        'nct': int,
        'dist_from_root': int,
        'mp_start_note': int,
        'mp_end_note': int,
        'sec_start_note': int,
        'sec_end_note': int,
        'prev_note_distance': int,
        'prev_note_direction': str,
        'prev_note_distance_type': str,
    },
    'notes_details': {
        'note_id': [],
        'note_start_section_offset': [],
        'note_start_section_m1b1_offset': [],
        'note_start_mp_offset': [],
        'spans_multi_chords': [],
        'is_sec_highest_note': [],
        'is_sec_lowest_note': [],
        'is_track_highest_note': [],
        'is_track_lowest_note': [],
        'is_track_longest_note': [],
        'is_section_longest_note': [],
        'is_phrase_longest_note': [],
        'up': [],
        'down': [],
        'same': [],
        'up_step': [],
        'up_skip': [],
        'up_leap': [],
        'down_step': [],
        'down_skip': [],
        'down_leap': [],
    },
    'chords': {
        'chord_id': str,
        'sec_id': str,
        'hp_id': str,
        'chord_name': str,
        'chord_kind': str,
        'chord_root_name': str,
        'chord_bass_name': str,
        'chord_root_pc': int,
        'chord_bass_pc': int,
        'pitches': str,
        'degrees': str,
        'chord_dur': float,
        'measure': int,
        'beat': float,
        'chord_start_offset': float,
        'chord_end_offset': float,
        'chord_start_m1b1_offset': float,
        'chord_end_m1b1_offset': float,
        'n_pitches': int,
        'prev_chord_elongation': int,
        'prev_chord_root_dist': int,
        'prev_chord_bass_dist': int,
        'prev_chord_rb_same_qual_diff': int,
        'prev_chord_root_same_bass_diff': int,
        'prev_chord_bass_same_root_diff': int,
    },
    'chords_details': {
        'chord_id': [],
        'chord_start_section_offset': [],
        'chord_start_section_m1b1_offset': [],
        'third_interval': [],
        'fifth_interval': [],
        'seventh_interval': [],
        'has_extension': [],
        'has_added_notes': [],
        'has_maj_3_no_7': [],
        'has_min_3_no_7': [],
        'has_maj_3_maj_7': [],
        'has_min_3_min_7': [],
        'has_maj_3_min_7': [],
        'has_other_quality': [],
        'chord_unique_to_sec': [],
        'chord_quality_unique_to_sec': [],
        'chord_root_unique_to_sec': [],
        'chord_bass_unique_to_sec': [],
        'n_sec_with_same_chord': [],
        'n_unique_secs_with_same_chord': [],
        'chord_unique_to_hp': [],
        'chord_quality_unique_to_hp': [],
        'chord_root_unique_to_hp': [],
        'chord_bass_unique_to_hp': [],
        'n_hp_with_same_chord': [],
        'chord_unique_in_track': [],
        'chord_quality_unique_in_track': [],
        'chord_root_unique_in_track': [],
        'chord_bass_unique_in_track': [],
        'chord_to_chorus_first_chord_root_dist': [],
        'chord_to_chorus_first_chord_bass_dist': [],
    },
}
